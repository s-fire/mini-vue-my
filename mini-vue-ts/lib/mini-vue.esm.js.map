{"version":3,"file":"mini-vue.esm.js","sources":["../src/shared/ShapeFlags.ts","../src/shared/index.ts","../src/reactive/effect.ts","../src/reactive/baseHandles.ts","../src/reactive/reactive.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/component.ts","../src/runtime-core/render.ts","../src/runtime-core/vnode.ts","../src/runtime-core/createApp.ts","../src/runtime-core/h.ts"],"sourcesContent":["export const enum ShapeFlags {\n  ELEMENT = 1, //0001\n  STATEFUL_COMPONENT = 1 << 1, // 0010\n  TEXT_CHILDREN = 1 << 2, // 0100\n  ARRAY_CHILDREN = 1 << 3, // 1000\n}\n","export const isObject = (val) => {\n  return val !== null && typeof val === \"object\";\n};\nexport const extend = Object.assign;\n\nexport function hasChanged(val, newValue) {\n  return !Object.is(val, newValue);\n}\nexport const hasOwn = (val,key)=> Object.prototype.hasOwnProperty.call(val,key)","let activeEffect;\nlet shouldTrack; //实收收集当前effect所存在的dep依赖，在实现stop的时候需要用到\nexport class ReactiveEffect {\n  private _fn: any;\n  // 收集当前effect被哪些dep所收集\n  deps = [];\n  active = true; // 避免多次调用stop时 重复清理effect\n  onStop?: () => void;\n  constructor(fn, public scheduler?) {\n    this._fn = fn;\n  }\n  run() {\n    if (!this.active) {\n      // 当前是调用了stop方法的情况\n      return this._fn();\n    }\n    shouldTrack = true;\n    activeEffect = this;\n    const result = this._fn();\n    shouldTrack = false;\n    return result;\n  }\n  stop() {\n    if (this.active) {\n      cleanUpEffect(this);\n      this.active = false;\n      if (this.onStop) {\n        this.onStop();\n      }\n    }\n  }\n}\nfunction cleanUpEffect(effect) {\n  // 循环收集到的当前effect所存在的所有dep 将当前effect从其中删除\n  effect.deps.forEach((dep: any) => {\n    dep.delete(effect);\n  });\n}\nexport function isTracking() {\n  return shouldTrack && activeEffect !== undefined;\n}\nconst targetsMap = new Map();\nexport function trackEffects(dep) {\n  // 将dep添加到当前effect的deps里,用于调用stop时删除当前的effect\n  if (dep.has(activeEffect)) return;\n  dep.add(activeEffect);\n  activeEffect.deps.push(dep);\n}\nexport function track(target, key) {\n  if (!isTracking()) return;\n  let depsMap = targetsMap.get(target);\n  if (!depsMap) {\n    depsMap = new Map();\n    targetsMap.set(target, depsMap);\n  }\n  let dep = depsMap.get(key);\n  if (!dep) {\n    dep = new Set();\n    depsMap.set(key, dep);\n  }\n  trackEffects(dep);\n}\nexport function triggerEffects(dep) {\n  dep.forEach((effect) => {\n    if (effect.scheduler) {\n      effect.scheduler();\n    } else {\n      effect.run();\n    }\n  });\n}\nexport function trigger(target, key) {\n  let depsMap = targetsMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let dep = depsMap.get(key);\n  if (dep) {\n    triggerEffects(dep);\n  }\n}\nexport function effect(fn, options: any = {}) {\n  const scheduler = options.scheduler;\n  const _effect = new ReactiveEffect(fn, scheduler);\n  Object.assign(_effect, options);\n  _effect.run();\n  const runner: any = _effect.run.bind(_effect);\n  // 给返回的runner挂载effect属性 用于在调用stop方法时调用到实例上的stop方法\n  runner.effect = _effect;\n  return runner;\n}\nexport function stop(runner: any) {\n  runner.effect.stop();\n}\n","import { extend, isObject } from \"../shared\";\nimport { track, trigger } from \"./effect\";\nimport { reactive, ReactiveFlags, readonly } from \"./reactive\";\nconst get = createGetter();\nconst set = createSetter();\nconst readOnlyGet = createGetter(true);\nconst shallowReadonlyGet = createGetter(true, true);\nfunction createGetter(isReadonly = false, isShallow = false) {\n  return function get(target, key) {\n    if (key === ReactiveFlags.IS_REACTIVE) {\n      // 此时是在调用isReactive\n      return !isReadonly;\n    } else if (key === ReactiveFlags.IS_READONLY) {\n      return isReadonly;\n    }\n    const res = Reflect.get(target, key);\n    if (isShallow) {\n      return res;\n    }\n    if (isObject(res)) {\n      return isReadonly ? readonly(res) : reactive(res);\n    }\n    if (!isReadonly) {\n      track(target, key);\n    }\n    return res;\n  };\n}\nfunction createSetter() {\n  return function set(target, key, value) {\n    const res = Reflect.set(target, key, value);\n    trigger(target, key);\n    return res;\n  };\n}\nexport const mutableHandles = {\n  get: get,\n  set: set,\n};\nexport const readonlyHandles = {\n  get: readOnlyGet,\n  set(target, key, value) {\n    console.warn(`readonly not able to set`);\n    return true;\n  },\n};\n\nexport const shallowReadonlyHandles = extend({}, readonlyHandles, {\n  get: shallowReadonlyGet,\n});\n","import { isObject } from \"../shared\";\nimport {\n  mutableHandles,\n  readonlyHandles,\n  shallowReadonlyHandles,\n} from \"./baseHandles\";\nexport const enum ReactiveFlags {\n  IS_REACTIVE = \"__v_isReactive\",\n  IS_READONLY = \"__v_isRadonly\",\n}\nexport function reactive(raw) {\n  return createReactiveObj(raw, mutableHandles);\n}\nexport function readonly(raw) {\n  return createReactiveObj(raw, readonlyHandles);\n}\nfunction createReactiveObj(raw: any, baseHandles) {\n  if (!isObject(raw)) {\n    console.warn(`target ${raw}必须是一个对象`);\n    return raw\n  }\n  return new Proxy(raw, baseHandles);\n}\nexport function isReactive(raw) {\n  // 手动访问raw的一个属性 会触发getter函数从而根据是否是readonly判断是否是reative\n  // 如果不是一个ractive 则raw上不会有__v_isReactive 此时不会触发getter 会返回undefinde\n  return !!raw[ReactiveFlags.IS_REACTIVE];\n}\nexport function isReadonly(raw) {\n  // 更具触发getter时是否传有readonly参数来判断\n  return !!raw[ReactiveFlags.IS_READONLY];\n}\nexport function shallowReadonly(raw) {\n  return createReactiveObj(raw, shallowReadonlyHandles);\n}\nexport function isProxy(val) {\n  return isReactive(val) || isReadonly(val);\n}\n","export function initProps(instance,rawProps) {\n  instance.props = rawProps || {}\n}","import { hasOwn } from \"../shared\"\n\nconst publicPropertiesMap = {\n  $el:(i)=> i.vnode.el\n}\nexport const publicInstanceProxyHandlers = {\n  get({_:instance},key){\n    const {setupState,props} = instance\n    \n    if (hasOwn(setupState,key)) {\n      return setupState[key]\n    }else if (hasOwn(props,key)) {\n      return props[key]\n    }\n    const publicGetter = publicPropertiesMap[key]\n    if (publicGetter) {\n      return publicGetter(instance)\n    }\n  }\n}","import { shallowReadonly } from \"../reactive/reactive\"\nimport { initProps } from \"./componentProps\"\nimport { publicInstanceProxyHandlers } from \"./componentPublicInstance\"\n\nexport function createComponentInstance(vnode) {\n  const component = {\n    vnode,\n    type:vnode.type,\n    setupState:{}, // 保存setup的返回内容\n    props:{}\n  }\n  return component\n}\nexport function setupComponent(instance: { vnode: any }) {\n  /* \n    instance{  // 组件实例\n      vnode{  // 组件虚拟节点\n        type // 传入的App组件配置\n      } \n      type // 传入的App组件配置\n      props\n    }\n  */\n initProps(instance,instance.vnode.props)\n  // 实例化有状态组件\n  setupStatefulComponent(instance)\n}\n\nfunction setupStatefulComponent(instance: any) {\n  /* \n    instance{  // 组件实例\n      vnode{  // 组件虚拟节点\n        type // 传入的App组件配置\n      } \n      type // 传入的App组件配置\n    }\n  */\n  const Component = instance.type // 传入的App配置\n  // 创建组件代理对象  用于访问this.xxx\n  instance.proxy = new Proxy({_:instance},publicInstanceProxyHandlers)\n  // 取到App里的setup函数\n  const {setup} = Component\n  if (setup) {\n    const setupResult = setup(shallowReadonly(instance.props)) // 把props传给setup函数\n    handleSetupResult(instance,setupResult)\n  }\n}\nfunction handleSetupResult(instance,setupResult: any) {\n  // setup函数有可能返回函数或者对象\n  if (typeof(setupResult) === 'object') {\n    // 把setup返回的对象保存到实例上\n    instance.setupState = setupResult\n  }\n  finishComponentSetup(instance)\n}\n\nfunction finishComponentSetup(instance: any) {\n  const Component = instance.type\n  if (Component.render) {\n    instance.render =Component.render\n  }\n}\n\n","import { isObject } from \"../shared\";\nimport { ShapeFlags } from \"../shared/ShapeFlags\";\nimport { createComponentInstance, setupComponent } from \"./component\";\n\nexport function render(vnode, container) {\n  patch(vnode, container);\n}\nfunction patch(vnode, container) {\n  const {shapeFlag} = vnode\n  // 这里是 & 运算  获取当前vnode的类型\n  if (shapeFlag & ShapeFlags.ELEMENT) {\n    // 处理元素\n    processElement(vnode, container);\n  } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n    // 处理组件\n    processComponent(vnode, container);\n  }\n}\nfunction processElement(vnode: any, container: any) {\n  // 初始化元素\n  mountElement(vnode, container);\n}\nfunction mountElement(vnode: any, container: any) {\n  const el:HTMLElement = vnode.el= document.createElement(vnode.type);\n  const { children,shapeFlag } = vnode;\n  if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n    // 文本内容直接设置\n    el.textContent = children;\n  } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n    // 数组类型 遍历后调用Patch\n    mountChildren(vnode, el);\n  }\n  // 处理props属性\n  const { props } = vnode;\n  for (const key in props) {\n    const element = props[key];\n    el.setAttribute(key, element);\n  }\n  container.append(el);\n}\nfunction mountChildren(vnode: any, el: HTMLElement) {\n  vnode.children.forEach((element) => {\n    patch(element, el);\n  });\n}\n\n// 处理组件\nfunction processComponent(vnode: any, container: any) {\n  // 挂载组件\n  mountComponent(vnode, container);\n}\n// 挂载组件\nfunction mountComponent(initalVnode: any, container) {\n  // 创建组件实例\n  const instance = createComponentInstance(initalVnode);\n  setupComponent(instance);\n  setupRederEffect(instance,initalVnode, container);\n}\n\nfunction setupRederEffect(instance: any,initalVnode, container) {\n  const {proxy} = instance\n  const subTree = instance.render.call(proxy);\n  // subTree h函数返回的内容\n  patch(subTree, container);\n  initalVnode.el = subTree.el // 把根节点的el保存到当前组件的虚拟节点上 用于this.$el访问\n}\n","import { ShapeFlags } from \"../shared/ShapeFlags\";\n\nexport function createVnode(type, props?, children?) {\n  // type传入的App配置\n  const vnode = {\n    type,\n    props,\n    children,\n    shapeFlag: getShapeFlage(type),\n    el: null, // 保存当前的el dom\n  };\n  // children  这里可以理解为  | 运算 后的结果同时保留了原本的shapeFlag和children的shapeFlage\n  if (typeof children === \"string\") {\n    vnode.shapeFlag = vnode.shapeFlag | ShapeFlags.TEXT_CHILDREN;\n  }else if (Array.isArray(children)) {\n    vnode.shapeFlag = vnode.shapeFlag | ShapeFlags.ARRAY_CHILDREN\n  }\n  return vnode;\n}\n// 设置vnode对应的shapeFlag\n/* \n  位运算  | 运算时 有 1 得1  & 运算时  全是1才得1  \n*/\nfunction getShapeFlage(type: any) {\n  return typeof type === \"string\"\n    ? ShapeFlags.ELEMENT\n    : ShapeFlags.STATEFUL_COMPONENT;\n}\n/* \n  0001\n  0100\n  0101\n  1000\n*/\n","import { render } from \"./render\"\nimport { createVnode } from \"./vnode\"\n\nexport function createApp(rootComponent){\n  // 传入的App配置\n  return {\n    mount(rootContainer){\n      // 转换成虚拟节点\n      // component -> vnode\n      const vnode = createVnode(rootComponent)\n      render(vnode,rootContainer)\n    }\n  }\n}\n","import { createVnode } from \"./vnode\";\nexport function h(type,props?,children?) {\n  return createVnode(type,props,children)\n}"],"names":[],"mappings":"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"}